(this["webpackJsonpsnake-react-game"]=this["webpackJsonpsnake-react-game"]||[]).push([[0],{14:function(e,t,s){e.exports={app:"App_app__1fB2b",app__field:"App_app__field__1jCqw"}},15:function(e,t,s){e.exports={music:"MusicPlayer_music__1vIjP",music__player:"MusicPlayer_music__player__1Dx2m"}},19:function(e,t,s){e.exports={fruit:"Fruit_fruit__32-aM"}},20:function(e,t,s){},3:function(e,t,s){e.exports={controls__wrapper:"Controls_controls__wrapper__3j6Y5",controls__score:"Controls_controls__score__2euP4","controls__start-btn":"Controls_controls__start-btn__oq8_k",controls__volume:"Controls_controls__volume__3uMnL"}},42:function(e,t,s){},50:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(10),o=s.n(n),c=(s(42),s(12)),r=s(17),l=s(18),_=s(36),u=s(35),d=s(14),h=s.n(d),m=s(7),S=s.n(m),O={SIZE:4,FIELD_SIZE:"600px",SPEED:150,SPEED_FAST:50,SPEED_STEP:10,MAX_POSITION:98,MIN_POSITION:1,TOP:"TOP",RIGHT:"RIGHT",LEFT:"LEFT",BOTTOM:"BOTTOM",SPACE_BETWEEN_SNAKE_PIECES:2,STARTING_SNAKE_POSITION:[[0,0],[2,0],[4,0]],FRUIT_POSITION:function(){return[Math.floor((Math.random()*O.MAX_POSITION+O.MIN_POSITION)/O.SIZE)*O.SIZE,Math.floor((Math.random()*O.MAX_POSITION+O.MIN_POSITION)/O.SIZE)*O.SIZE]}},P=O,f=s(1),I=function(e){return Object(f.jsx)("div",{children:e.snakePosition.map((function(t,s,a){var i={left:"".concat(t[0],"%"),top:"".concat(t[1],"%"),width:"".concat(e.size,"%"),height:"".concat(e.size,"%"),transform:"".concat(e.direction===P.LEFT?"rotate(90deg)":e.direction===P.TOP?"rotate(180deg)":e.direction===P.RIGHT?"rotate(270deg)":"rotate(0deg)")};return s===a.length-1?Object(f.jsx)("div",{className:"".concat(S.a.snake__piece," ").concat(S.a.snake__head," ").concat(e.isGameOver?S.a.snake__head_dead:""),style:i},s):Object(f.jsx)("div",{className:S.a.snake__piece,style:i},s)}))})},v=s(19),E=s.n(v),p=function(e){var t={left:"".concat(e.fruitPosition[0],"%"),top:"".concat(e.fruitPosition[1],"%"),width:"".concat(e.size,"%"),height:"".concat(e.size,"%")};return Object(f.jsx)("div",{className:E.a.fruit,style:t})},k=s(3),T=s.n(k),j=s(21),b=s.n(j),g=s(31),N=s.n(g),G=s(33),x=s.n(G),y=s(32),w=s.n(y),M=s(34),A=s.n(M),F=s(20),C=s.n(F),D=function(e){return Object(f.jsx)("div",{className:C.a.Popup})},R=function(e){var t=e.isVolume?Object(f.jsx)(b.a,{style:{color:"white"}}):Object(f.jsx)(N.a,{style:{color:"white"}}),s=e.isMusic?Object(f.jsx)(w.a,{style:{color:"white"}}):Object(f.jsx)(x.a,{style:{color:"white"}});return Object(f.jsxs)("div",{className:T.a.controls__wrapper,children:[Object(f.jsxs)("div",{className:T.a.controls__score,children:["Score: ",e.score]}),Object(f.jsx)("button",{onClick:e.clicked,className:T.a["controls__start-btn"],children:"Start Game"}),Object(f.jsx)("button",{onClick:e.volumeToggle,className:T.a.controls__volume,children:t}),Object(f.jsx)("button",{onClick:e.musicToggle,className:T.a.controls__volume,children:s}),Object(f.jsxs)("button",{onClick:e.settingsToggle,className:T.a.controls__volume,children:[Object(f.jsx)(A.a,{style:{color:"white"}}),Object(f.jsx)(D,{children:Object(f.jsx)("div",{children:"Popup Title"})})]})]})},B=s.p+"static/media/bite.1e6ccb0d.mp3",H=s(15),L=s.n(H),Z=function(e){return Object(f.jsx)("div",{className:L.a.music,style:e.isMusic?{display:"block"}:{display:"none"},children:Object(f.jsx)("iframe",{title:"music",width:"100%",height:"100%",src:"https://www.youtube.com/embed/DIi-pBpXIbE",frameBorder:"0",allow:"accelerometer; autoplay;",allowFullScreen:!0,className:L.a.music__player})})},K=s(8),W=s.n(K),V=s.p+"static/media/rs_school_js.d7e49236.svg",z=function(){return Object(f.jsxs)("div",{className:W.a.footer,children:[Object(f.jsx)("a",{className:W.a.footer__link,href:"https://github.com/Rrroman",children:"Created by Roman 2021"}),Object(f.jsx)("a",{className:W.a.footer__link,href:"https://rs.school/js/",children:Object(f.jsx)("img",{className:W.a.footer__logo,src:V,alt:"Rs School"})})]})},U=function(e){Object(_.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={snakePosition:P.STARTING_SNAKE_POSITION,direction:P.RIGHT,speed:P.SPEED,fruitPosition:P.FRUIT_POSITION(),isGameOver:!1,isGamePause:!0,score:0,isVolume:!0,isMusic:!1},e.audio=new Audio(B),e.fieldStyles={maxWidth:"".concat(P.FIELD_SIZE),height:"".concat(P.FIELD_SIZE)},e.moveSnake=function(){if(e.state.isGameOver){clearInterval(e.state.intervalId);var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGameOver:!1,speed:P.SPEED})}var s=Object(c.a)(e.state.snakePosition),a=s[s.length-1];switch(e.state.direction){case P.LEFT:a=[a[0]-P.SPACE_BETWEEN_SNAKE_PIECES,a[1]];break;case P.TOP:a=[a[0],a[1]-P.SPACE_BETWEEN_SNAKE_PIECES];break;case P.RIGHT:a=[a[0]+P.SPACE_BETWEEN_SNAKE_PIECES,a[1]];break;case P.BOTTOM:a=[a[0],a[1]+P.SPACE_BETWEEN_SNAKE_PIECES]}s.push(a),s.shift(),e.setState({snakePosition:s})},e.checkWallSmash=function(){var t=e.state.snakePosition[e.state.snakePosition.length-1];(t[0]<0||t[0]>=P.MAX_POSITION||t[1]<0||t[1]>=P.MAX_POSITION)&&e.isGameOver()},e.checkSnakeBiteItSelf=function(){var t=Object(c.a)(e.state.snakePosition),s=t[t.length-1];t.pop(),t.forEach((function(t){s[0]===t[0]&&s[1]===t[1]&&e.isGameOver()}))},e.checkEatFruit=function(){var t=e.state.snakePosition[e.state.snakePosition.length-1],s=e.state.fruitPosition;if(t[0]===s[0]&&t[1]===s[1]){e.setState((function(t){return t.speed>P.SPEED_FAST?{fruitPosition:P.FRUIT_POSITION(),speed:t.speed-P.SPEED_STEP,score:e.state.snakePosition.length*P.SPEED_STEP}:{fruitPosition:P.FRUIT_POSITION(),speed:t.speed-1,score:t.snakePosition.length*P.SPEED_STEP}})),clearInterval(e.state.intervalId);var a=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:a}),e.snakeGrow(),e.state.isVolume&&(e.audio.currentTime=0,e.audio.play())}},e.snakeGrow=function(){var t=Object(c.a)(e.state.snakePosition);t.unshift([]),e.setState({snakePosition:t})},e.isGamePauseToggle=function(){if(e.state.isGamePause)clearInterval(e.state.intervalId),e.setState({isGamePause:!0});else if(!e.state.isGamePause){var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGamePause:!1})}},e.isGameOver=function(){e.setState({snakePosition:P.STARTING_SNAKE_POSITION,direction:P.RIGHT,speed:P.SPEED,isGameOver:!0}),clearInterval(e.state.intervalId)},e.startGameHandler=function(){if(e.state.isGameOver||e.state.isGamePause){var t=setInterval(e.moveSnake,e.state.speed);e.setState({intervalId:t,isGameOver:!1,isGamePause:!1,score:0})}},e.volumeToggleHandler=function(){e.setState((function(e){return{isVolume:!e.isVolume}}))},e.musicToggleHandler=function(){e.setState((function(e){return{isMusic:!e.isMusic}}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownHandler.bind(this))}},{key:"componentDidUpdate",value:function(){this.checkWallSmash(),this.checkSnakeBiteItSelf(),this.checkEatFruit()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"keydownHandler",value:function(e){switch(e.keyCode){case 37:case 65:this.state.direction===P.RIGHT||this.state.isGamePause||this.state.isGameOver||(this.setDirection(P.LEFT),this.moveSnake());break;case 38:case 87:this.state.direction===P.BOTTOM||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:P.TOP}),this.moveSnake());break;case 39:case 68:this.state.direction===P.LEFT||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:P.RIGHT}),this.moveSnake());break;case 40:case 83:this.state.direction===P.TOP||this.state.isGamePause||this.state.isGameOver||(this.setState({direction:P.BOTTOM}),this.moveSnake());break;case 27:this.setState((function(e){return{isGamePause:!e.isGamePause}})),this.isGamePauseToggle()}}},{key:"setDirection",value:function(e){this.setState({direction:e})}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:h.a.app,children:[Object(f.jsx)(R,{clicked:this.startGameHandler.bind(this),score:this.state.score,isVolume:this.state.isVolume,isMusic:this.state.isMusic,volumeToggle:this.volumeToggleHandler,musicToggle:this.musicToggleHandler}),Object(f.jsxs)("div",{className:h.a.app__field,style:this.fieldStyles,children:[Object(f.jsx)(I,{snakePosition:this.state.snakePosition,direction:this.state.direction,isGameOver:this.state.isGameOver,size:P.SIZE}),Object(f.jsx)(p,{fruitPosition:this.state.fruitPosition,size:P.SIZE})]}),Object(f.jsx)(Z,{isMusic:this.state.isMusic}),Object(f.jsx)(z,{})]})}}]),s}(a.Component),X=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,62)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,o=t.getTTFB;s(e),a(e),i(e),n(e),o(e)}))};o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root")),X()},7:function(e,t,s){e.exports={snake__piece:"Snake_snake__piece__1ePKK",snake__head:"Snake_snake__head__Ibk3i",snake__head_dead:"Snake_snake__head_dead__31w_8"}},8:function(e,t,s){e.exports={footer:"Footer_footer__3qYAP",footer__logo:"Footer_footer__logo__kLW5G",footer__link:"Footer_footer__link__2pwZp"}}},[[50,1,2]]]);
//# sourceMappingURL=main.dabeb08d.chunk.js.map